diff --git a/node_modules/jest-expo/src/preset/setup.js b/node_modules/jest-expo/src/preset/setup.js
index db69c0f..33e2300 100644
--- a/node_modules/jest-expo/src/preset/setup.js
+++ b/node_modules/jest-expo/src/preset/setup.js
@@ -117,16 +117,18 @@ for (const moduleName of Object.keys(expoModules)) {
   });
 }
 
-Object.keys(mockNativeModules.NativeUnimoduleProxy.viewManagersMetadata).forEach(
-  (viewManagerName) => {
-    Object.defineProperty(mockNativeModules.UIManager, `ViewManagerAdapter_${viewManagerName}`, {
-      get: () => ({
-        NativeProps: {},
-        directEventTypes: [],
-      }),
-    });
-  }
-);
+if (mockNativeModules.UIManager && typeof mockNativeModules.UIManager === 'object') {
+  Object.keys(mockNativeModules.NativeUnimoduleProxy.viewManagersMetadata).forEach(
+    (viewManagerName) => {
+      Object.defineProperty(mockNativeModules.UIManager, `ViewManagerAdapter_${viewManagerName}`, {
+        get: () => ({
+          NativeProps: {},
+          directEventTypes: [],
+        }),
+      });
+    }
+  );
+}
 
 try {
   jest.mock('expo-file-system', () => ({
@@ -183,8 +185,9 @@ jest.doMock('react-native/Libraries/LogBox/LogBox', () => ({
 }));
 
 // Mock the `createSnapshotFriendlyRef` to return an ref that can be serialized in snapshots.
-jest.doMock('expo-modules-core/src/Refs', () => ({
-  createSnapshotFriendlyRef: () => {
+try {
+  jest.doMock('expo-modules-core/src/Refs', () => ({
+    createSnapshotFriendlyRef: () => {
     // We cannot use `createRef` since it is not extensible.
     const ref = { current: null };
     Object.defineProperty(ref, 'toJSON', {
@@ -193,6 +196,9 @@ jest.doMock('expo-modules-core/src/Refs', () => ({
     return ref;
   },
 }));
+} catch (e) {
+  // Ignore if expo-modules-core/src/Refs is not available
+}
 
 function attemptLookup(moduleName) {
   // hack to get the package name from the module name
@@ -291,7 +297,11 @@ try {
 }
 
 // Installs web implementations of global things that are normally installed through JSI.
-require('expo-modules-core/src/web/index.web');
+try {
+  require('expo-modules-core/src/web/index.web');
+} catch (e) {
+  // Ignore if web implementation is not available
+}
 
 jest.doMock('expo/src/winter/FormData', () => ({
   // The `installFormDataPatch` function is for native runtime only,
